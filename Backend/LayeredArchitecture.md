## 설계 구조

- 코드 설계 : 코드와 파일, 그리고 폴더 구조를 설계하는 것
- 설계의 필요성
  - 1개 파일에 코드가 너무 많으면 유지보수 어려움
  - 코드와 코드 사이 관계 파악 어려움
  - 각 코드의 역할과 기능이 명확하게 구분되어 있지 않아서 기능별로 테스트를 진행하는 것이 어려움
  - 하나의 파일을 동시에 수정하는 것은 힘들기 때문에 분업 어려움
  - 새로운 기능을 추가하고자 할 때, 코드 파악이 어려워서 확장성이 부족함

## 3계층 구조

- 3계층 구조의 장점
  - 백엔드 서버가 어떤 흐름으로 구현되는지, 코드 및 폴더 구조를 보고 이해하기 쉬워짐
  - 필요한 코드를 빠르게 찾을 수 있으며, 유지보수가 용이해짐
    - 라우팅 관련 코드 → Controller 폴더
    - 서비스 로직 관련 코드 → Service 폴더
    - 데이터 관련 코드 → Model 폴더
  - 웹 서비스의 구현 방식을 변경하고자 할 때, 각 폴더는 역할이 분리되어 있으므로 해당 폴더 코드만 변경하면 돼서 유지보수가 용이해짐
  - 코드가 기능별로 구분되어 있으므로, 기능별로 테스트(유닛 테스트)를 진행하기 용이해짐
- Control Layer (Presentation Layer)
  - 사용자의 request 분석 후 알맞은 서비스로 해당 요청을 전달해 준 다음, 서비스의 결과를 다시 response 하는 층 → 라우팅이 이루어지는 층
  - 라우팅 : 클라이언트가 요청한 URL 경로에 대해 적절한 핸들러(처리기) 또는 컨트롤러를 호출하는 과정
  - 클라이언트로부터 들어오고 나가는 데이터(req, res)에 대한 검증 및 확인만을 담당해야 함
  - express의 경우 req.params(), req.body(), res.status(), res.send() 코드 작성
- Service Layer (Business Layer)
  - 컨트롤러로부터 전달된 request에 로직(if-else문 등)을 적용하는 층
  - 비즈니스 로직(서비스에서 제공하는 실질적 기능)만을 담당해야 함
  - 로그인 서비스 예시 로직
- Model Layer (Persistence Layer)
  - 서비스 층에서 데이터베이스 접근이 필요한 경우 데이터 관련 코드가 작성되는 층
  - DB에 데이터를 다루는 작업만 담당해야 함
